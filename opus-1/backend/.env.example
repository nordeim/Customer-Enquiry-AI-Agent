# ═══════════════════════════════════════════════════════════════════════════════
# SINGAPORE SMB SUPPORT AGENT - ENVIRONMENT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────────
# APPLICATION SETTINGS
# ─────────────────────────────────────────────────────────────────────────────────
APP_NAME="Singapore SMB Support Agent"
APP_ENV=development
APP_DEBUG=true
APP_VERSION=1.0.0
APP_HOST=0.0.0.0
APP_PORT=8000
APP_LOG_LEVEL=INFO

# Timezone (Singapore)
TZ=Asia/Singapore

# ─────────────────────────────────────────────────────────────────────────────────
# API KEYS - LLM PROVIDERS
# ─────────────────────────────────────────────────────────────────────────────────
OPENAI_API_KEY=sk-your-openai-api-key-here
COHERE_API_KEY=your-cohere-api-key-here

# Optional: Anthropic for fallback
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ─────────────────────────────────────────────────────────────────────────────────
# LLM CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────────
# Primary model for chat responses
LLM_PRIMARY_MODEL=gpt-4o-mini
LLM_PRIMARY_TEMPERATURE=0.3
LLM_PRIMARY_MAX_TOKENS=1024

# Secondary model for complex queries
LLM_SECONDARY_MODEL=gpt-4o
LLM_SECONDARY_TEMPERATURE=0.2
LLM_SECONDARY_MAX_TOKENS=2048

# Embedding model
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# ─────────────────────────────────────────────────────────────────────────────────
# VECTOR DATABASE - QDRANT
# ─────────────────────────────────────────────────────────────────────────────────
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=knowledge_base
QDRANT_COLLECTION_SUMMARIES=document_summaries

# ─────────────────────────────────────────────────────────────────────────────────
# REDIS - SHORT-TERM MEMORY
# ─────────────────────────────────────────────────────────────────────────────────
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_SESSION_TTL=1800  # 30 minutes in seconds

# ─────────────────────────────────────────────────────────────────────────────────
# POSTGRESQL - LONG-TERM MEMORY
# ─────────────────────────────────────────────────────────────────────────────────
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=support_agent
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=support_agent_db

# Connection pool settings
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20

# ─────────────────────────────────────────────────────────────────────────────────
# RAG CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────────
# Chunking
CHUNK_SIZE=512
CHUNK_OVERLAP=100
SEMANTIC_CHUNK_THRESHOLD=0.5

# Retrieval
RETRIEVAL_TOP_K=50
RERANK_TOP_K=5
HYBRID_SEARCH_ALPHA=0.5  # Balance between semantic (1.0) and keyword (0.0)

# Reranking
RERANKER_MODEL=rerank-english-v3.0
USE_LOCAL_RERANKER=false

# Context Management
MAX_CONTEXT_TOKENS=4000
MAX_CONVERSATION_MESSAGES=20

# ─────────────────────────────────────────────────────────────────────────────────
# MEMORY CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────────
# Summarization threshold (number of messages before summarization)
SUMMARIZATION_THRESHOLD=15
SUMMARY_MAX_TOKENS=500

# Customer data retention (PDPA compliance)
CUSTOMER_DATA_RETENTION_DAYS=30
ANONYMIZE_AFTER_DAYS=7

# ─────────────────────────────────────────────────────────────────────────────────
# AGENT CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────────
# Confidence thresholds
CONFIDENCE_THRESHOLD=0.7
ESCALATION_SENTIMENT_THRESHOLD=-0.5

# Response settings
MAX_RESPONSE_LENGTH=1500
INCLUDE_SOURCES=true

# ─────────────────────────────────────────────────────────────────────────────────
# BUSINESS CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────────
BUSINESS_NAME="Your Singapore SMB"
BUSINESS_TIMEZONE=Asia/Singapore
BUSINESS_HOURS_START=09:00
BUSINESS_HOURS_END=18:00
BUSINESS_DAYS=Monday,Tuesday,Wednesday,Thursday,Friday

# Support email for escalations
SUPPORT_EMAIL=support@yourcompany.com
SUPPORT_PHONE=+65-6123-4567

# ─────────────────────────────────────────────────────────────────────────────────
# SECURITY
# ─────────────────────────────────────────────────────────────────────────────────
API_KEY_HEADER=X-API-Key
API_KEYS=dev-key-12345,prod-key-67890
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
RATE_LIMIT_PER_MINUTE=60

# JWT (if using authenticated sessions)
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ─────────────────────────────────────────────────────────────────────────────────
# MONITORING & LOGGING
# ─────────────────────────────────────────────────────────────────────────────────
ENABLE_METRICS=true
METRICS_PORT=9090
LOG_FORMAT=json
SENTRY_DSN=
