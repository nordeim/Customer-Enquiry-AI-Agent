# =============================================================================
# SINGAPORE SMB CUSTOMER SUPPORT AI AGENT - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
APP_NAME="Singapore SMB Support Agent"
APP_ENV=development
DEBUG=true
LOG_LEVEL=DEBUG

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1

# Security
SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars
API_KEY=your-api-key-for-client-authentication
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# -----------------------------------------------------------------------------
# DATABASE SETTINGS
# -----------------------------------------------------------------------------
# PostgreSQL (Long-term Memory)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=support_agent
POSTGRES_PASSWORD=your-secure-password
POSTGRES_DB=support_agent_db
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Redis (Short-term Memory)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Session Settings
SESSION_TTL_SECONDS=1800  # 30 minutes
MAX_MESSAGES_BEFORE_SUMMARY=20

# -----------------------------------------------------------------------------
# VECTOR DATABASE SETTINGS (Qdrant)
# -----------------------------------------------------------------------------
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=knowledge_base
QDRANT_COLLECTION_SUMMARIES=document_summaries

# -----------------------------------------------------------------------------
# LLM SETTINGS
# -----------------------------------------------------------------------------
# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.7

# Fallback Model (Optional - Claude)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-haiku-20240307

# -----------------------------------------------------------------------------
# RAG SETTINGS
# -----------------------------------------------------------------------------
# Retrieval
RAG_TOP_K_RETRIEVAL=50
RAG_TOP_K_RERANK=5
RAG_SIMILARITY_THRESHOLD=0.7

# Chunking
CHUNK_SIZE=512
CHUNK_OVERLAP=100
CHUNKING_STRATEGY=semantic  # semantic or recursive

# Reranking
RERANKER_PROVIDER=cohere  # cohere or local
COHERE_API_KEY=your-cohere-api-key
COHERE_RERANK_MODEL=rerank-english-v3.0

# Context
MAX_CONTEXT_TOKENS=4000
ENABLE_CONTEXT_COMPRESSION=true

# -----------------------------------------------------------------------------
# AGENT SETTINGS
# -----------------------------------------------------------------------------
AGENT_CONFIDENCE_THRESHOLD=0.7
AGENT_ESCALATION_ENABLED=true
AGENT_MAX_TOOL_CALLS=5

# Business Context
BUSINESS_NAME="Sample Singapore SMB"
BUSINESS_TIMEZONE=Asia/Singapore
BUSINESS_HOURS_START=09:00
BUSINESS_HOURS_END=18:00
BUSINESS_WORKING_DAYS=["Monday","Tuesday","Wednesday","Thursday","Friday"]

# -----------------------------------------------------------------------------
# PDPA COMPLIANCE SETTINGS
# -----------------------------------------------------------------------------
PDPA_DATA_RETENTION_DAYS=30
PDPA_REQUIRE_CONSENT=true
PDPA_ANONYMIZE_ANALYTICS=true

# -----------------------------------------------------------------------------
# MONITORING & OBSERVABILITY
# -----------------------------------------------------------------------------
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry (Optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=${APP_ENV}

# -----------------------------------------------------------------------------
# FRONTEND SETTINGS (for reference)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000
NEXT_PUBLIC_APP_NAME=${APP_NAME}
